<!DOCTYPE html>
<html lang="en">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="Sukie" />



<meta name="description" content="分布式存储系统---大数据三驾马车之一">
<meta property="og:type" content="article">
<meta property="og:title" content="HDFS学习">
<meta property="og:url" content="https://sukie-sun.github.io/2019/01/03/HDFS%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="Sukie&#39;s Blog">
<meta property="og:description" content="分布式存储系统---大数据三驾马车之一">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://wx1.sinaimg.cn/large/005zftzDgy1g16vvlbzawj30ex09nq6e.jpg">
<meta property="og:image" content="https://wx1.sinaimg.cn/large/005zftzDgy1fz0lg96gkqj30hz0dsgmf.jpg">
<meta property="og:image" content="https://wx1.sinaimg.cn/large/005zftzDgy1fz0lq2gmmtj30f009vwfj.jpg">
<meta property="og:image" content="https://wx1.sinaimg.cn/large/005zftzDgy1fz0n3j6xvnj30fe09vdh0.jpg">
<meta property="og:image" content="https://wx1.sinaimg.cn/large/005zftzDgy1fz0p1lys2zj30f009vwf2.jpg">
<meta property="og:image" content="https://wx1.sinaimg.cn/large/005zftzDgy1fz1ny1tfrjj30f00akaaf.jpg">
<meta property="og:image" content="https://wx1.sinaimg.cn/large/005zftzDgy1fz1o4z4nmwj30gm09vgmg.jpg">
<meta property="og:image" content="https://wx1.sinaimg.cn/large/005zftzDgy1fz1ptkw9krj30q40gegpp.jpg">
<meta property="og:image" content="https://wx1.sinaimg.cn/large/005zftzDgy1fz1o6wamv3j30ga0aawfd.jpg">
<meta property="og:image" content="https://wx1.sinaimg.cn/large/005zftzDgy1fz1ptp2xlej30on0gf78r.jpg">
<meta property="og:image" content="https://wx1.sinaimg.cn/large/005zftzDgy1fz1s32tmr2j30hj04ggmr.jpg">
<meta property="og:image" content="https://wx1.sinaimg.cn/large/005zftzDgy1fz1uhqzg9oj30fe09nt9c.jpg">
<meta property="og:image" content="https://wx1.sinaimg.cn/large/005zftzDgy1fz1uk49nbrj30fe0770tj.jpg">
<meta property="og:image" content="https://wx1.sinaimg.cn/large/005zftzDgy1fz1ut3z3r2j30et0ah0tw.jpg">
<meta property="og:image" content="https://wx1.sinaimg.cn/large/005zftzDgy1g182idgjuuj30fe0a6my9.jpg">
<meta property="og:image" content="https://wx1.sinaimg.cn/large/005zftzDgy1fz1utb5r5tj30fe0brgmt.jpg">
<meta property="og:image" content="https://wx1.sinaimg.cn/large/005zftzDgy1fz1uw9a82yj30g508qmxh.jpg">
<meta property="article:published_time" content="2019-01-03T00:30:00.000Z">
<meta property="article:modified_time" content="2020-08-07T13:07:21.749Z">
<meta property="article:author" content="Sukie">
<meta property="article:tag" content="HDFS">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://wx1.sinaimg.cn/large/005zftzDgy1g16vvlbzawj30ex09nq6e.jpg">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">


    <link rel="alternate" href="/atom.xml" title="Sukie&#39;s Blog" type="application/atom+xml">



    <link rel="shortcut icon" href="/favicon.png">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">



<link rel="stylesheet" href="/css/style.css">




<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>HDFS学习 | Sukie&#39;s Blog</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>
<script src=""></script>
<script src=""></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: true
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






<meta name="generator" content="Hexo 5.0.0"><link rel="stylesheet" href="/css/prism-a11y-dark.css" type="text/css">
<link rel="stylesheet" href="/css/prism-line-numbers.css" type="text/css"></head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">Sukie</a></h1>
        </hgroup>

        
        <p class="header-subtitle">你好，新世界、新编程</p>
        

        
            <form id="search-form">
            <input type="text" id="local-search-input" name="q" placeholder="search..." class="search form-control" autocomplete="off" autocorrect="off" searchonload="false" />
            <i class="fa fa-times" onclick="resetSearch()"></i>
            </form>
            <div id="local-search-result"></div>
            <p class='no-result'>No results found <i class='fa fa-spinner fa-pulse'></i></p>
        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>Menu</li>
                        <li>Tags</li>
                        
                        <li>Friends</li>
                        
                        
                        <li>About Me</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/essays/">随笔</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                            <li><a href="/logs/">更新日志</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="mailto:123@123.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Array/" rel="tag">Array</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CentOS-6/" rel="tag">CentOS 6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HBase/" rel="tag">HBase</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HDFS/" rel="tag">HDFS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hive/" rel="tag">Hive</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/" rel="tag">JVM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux%E5%91%BD%E4%BB%A4/" rel="tag">Linux命令</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux%E7%B3%BB%E7%BB%9F%E7%8E%AF%E5%A2%83/" rel="tag">Linux系统环境</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/List/" rel="tag">List</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Map/" rel="tag">Map</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MapReduce/" rel="tag">MapReduce</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Nginx/" rel="tag">Nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RDD%E7%AE%97%E5%AD%90/" rel="tag">RDD算子</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Redis/" rel="tag">Redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Set/" rel="tag">Set</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spark-shell/" rel="tag">Spark shell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SparkSql/" rel="tag">SparkSql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SparkStreaming/" rel="tag">SparkStreaming</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SparkUI/" rel="tag">SparkUI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spark%E6%A1%86%E6%9E%B6/" rel="tag">Spark框架</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Sqoop/" rel="tag">Sqoop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Storm%EF%BC%8C%E6%B5%81%E5%BC%8F%E5%A4%84%E7%90%86%E6%A1%86%E6%9E%B6/" rel="tag">Storm，流式处理框架</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/String/" rel="tag">String</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Zookeeper/" rel="tag">Zookeeper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/flume/" rel="tag">flume</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/github/" rel="tag">github</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hadoop/" rel="tag">hadoop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven/" rel="tag">maven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sparkcore%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B/" rel="tag">sparkcore应用案例</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/yarn/" rel="tag">yarn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%8D%E5%90%8C%E6%95%B0%E6%8D%AE%E6%BA%90/" rel="tag">不同数据源</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%AA%E4%BA%BA%E5%85%B4%E8%B6%A3/" rel="tag">个人兴趣</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F/" rel="tag">分布式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%9C%E7%B4%A2%E5%92%8C%E5%88%86%E6%9E%90%E5%BC%95%E6%93%8E/" rel="tag">分布式搜索和分析引擎</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E5%B8%83%E5%BC%8F%E7%A6%BB%E7%BA%BF%E8%AE%A1%E7%AE%97%E6%A1%86%E6%9E%B6/" rel="tag">分布式离线计算框架</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%88%86%E8%80%8C%E6%B2%BB%E4%B9%8B/" rel="tag">分而治之</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%9A%E5%AE%A2/" rel="tag">博客</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9F%BA%E4%BA%8E%E5%86%85%E5%AD%98/" rel="tag">基于内存</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B0%81%E8%A3%85RDD/" rel="tag">封装RDD</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B9%BF%E6%92%AD/" rel="tag">广播</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%81%E5%BC%8F%E5%A4%84%E7%90%86%E6%A1%86%E6%9E%B6/" rel="tag">流式处理框架</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B6%88%E6%81%AF%E9%98%9F%E5%88%97%E7%B3%BB%E7%BB%9F/" rel="tag">消息队列系统</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/" rel="tag">源码分析</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%B4%AF%E5%8A%A0%E5%99%A8/" rel="tag">累加器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%BC%96%E7%A8%8B%E8%AF%AD%E8%A8%80/" rel="tag">编程语言</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E5%BC%95%E6%93%8E/" rel="tag">计算引擎</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E7%AE%97%E6%A1%86%E6%9E%B6/" rel="tag">计算框架</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%9D%99%E6%80%81/" rel="tag">静态</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="https://hexo.io">Hexo</a>
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="https://pages.github.com/">GitHub</a>
                    
                      <a class="main-nav-link switch-friends-link" target="_blank" rel="noopener" href="http://moxfive.xyz/">MOxFIVE</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">新世界编程</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">Sukie</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">Sukie</a></h1>
            </hgroup>
            
            <p class="header-subtitle">你好，新世界、新编程</p>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/essays/">随笔</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                    <li><a href="/logs/">更新日志</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:123@123.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="#" title="GitHub"></a>
                            
                                <a class="fa RSS" target="_blank" href="/atom.xml" title="RSS"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="Tags" friends="Friends" about="About Me"/>
</nav>
      <div class="body-wrap"><article id="post-HDFS学习" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2019/01/03/HDFS%E5%AD%A6%E4%B9%A0/" class="article-date">
      <time datetime="2019-01-03T00:30:00.000Z" itemprop="datePublished">2019-01-03</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      HDFS学习
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/HDFS/">HDFS</a>
    </div>


        
    <div class="article-tag tagcloud" style="display: flex; flex-wrap: wrap">  
        <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/HDFS/" rel="tag">HDFS</a></li></ul>
		<span class="post-count">总字数4.4k</span>
		<span class="post-count">预计阅读16分钟</span>		  
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
		  
			
		
        <p>== hadoop理解==</p>
<p>狭义：</p>
<p>hadoop1 = hdfs1 + MR1</p>
<p>hadoop2 = hdfs2 + MR2 + YARN</p>
<p>广义：</p>
<p>Hadoop生态</p>
<p><img src="https://wx1.sinaimg.cn/large/005zftzDgy1g16vvlbzawj30ex09nq6e.jpg"></p>
<p>用于解决海量数据的处理和数据存储，数据级别为GB，TB，PB。</p>
<h2 id="一、分布式文件存储系统HDFS"><a href="#一、分布式文件存储系统HDFS" class="headerlink" title="一、分布式文件存储系统HDFS"></a>一、分布式文件存储系统HDFS</h2><h3 id="1、什么是分布式？"><a href="#1、什么是分布式？" class="headerlink" title="1、什么是分布式？"></a>1、什么是分布式？</h3><blockquote>
<p>定义：将海量的数据，复杂的业务分发到不同的计算机节点和服务器上分开处理和计算。</p>
<p>特点：</p>
<ul>
<li>多副本，提高服务的容错率、安全性、高可靠性</li>
<li>适合批处理，提高服务的效率和速度，</li>
<li>减轻单台服务器的压力</li>
<li>具有很好的可扩展性</li>
<li>计算向数据靠拢，安全，高效</li>
</ul>
</blockquote>
<p><code>大数据三驾马车：GFS、MapReduce、Bigtable</code>====HDFS、MR、HBASE</p>
<h3 id="2、什么是HDFS？"><a href="#2、什么是HDFS？" class="headerlink" title="2、什么是HDFS？"></a>2、什么是HDFS？</h3><h4 id="（1）HDFS为什么会出现？"><a href="#（1）HDFS为什么会出现？" class="headerlink" title="（1）HDFS为什么会出现？"></a>（1）HDFS为什么会出现？</h4><blockquote>
<p>主要解决大量【pb级以上】的大数据的分布式存储问题</p>
</blockquote>
<h4 id="（2）-HDFS的特点"><a href="#（2）-HDFS的特点" class="headerlink" title="（2）==HDFS的特点=="></a>（2）==HDFS的特点==</h4><blockquote>
<p>$$ 分布式特性：</p>
<ul>
<li>适合大数据处理：GB、TB、PB以上的数据</li>
<li>百万规模以上的文件数量:10K+ 节点</li>
<li>适合批处理：移动计算而非数据(MR),数据位置暴露给计算框架</li>
</ul>
<p>$$ 自身特性：</p>
<ul>
<li>可构建在廉价机器上</li>
<li>高可靠性：通过多副本实现</li>
<li>高容错性：数据自动保存多个副本；副本丢失后，自动恢复,提供了恢复机制</li>
</ul>
<p>$$ 缺点：</p>
<p>—–低延迟高数据吞吐访问问题（不适合低延迟数据访问，Hbase适合）</p>
<ul>
<li>不支持毫秒级</li>
<li>吞吐量大但有限制于其延迟（瓶颈：低延迟无法突破）</li>
</ul>
<p>—–小文件存取占用NameNode大量内存(寻道时间超过读取时间,约占99%)</p>
<p>——-不支持多用户写入及任意修改文件</p>
<ul>
<li>不支持文件修改：一个文件只能有一个写者</li>
<li>文件仅支持append不支持修改</li>
<li>（其实本身是支持的，主要为了用空间换时间，节约成本）</li>
</ul>
<p>$$ 实现目标：</p>
<ul>
<li>兼容廉价的硬件设施</li>
<li>实现流数据读写</li>
<li>支持大数据集</li>
<li>支持简单的文件模型</li>
<li>强大的跨平台兼容性</li>
</ul>
</blockquote>
<h4 id="（3）-HDFS架构图"><a href="#（3）-HDFS架构图" class="headerlink" title="（3）==HDFS架构图=="></a>（3）==HDFS架构图==</h4><p><img src="https://wx1.sinaimg.cn/large/005zftzDgy1fz0lg96gkqj30hz0dsgmf.jpg" alt="HDFS架构图"></p>
<p><img src="https://wx1.sinaimg.cn/large/005zftzDgy1fz0lq2gmmtj30f009vwfj.jpg" alt="HDFS架构图"></p>
<blockquote>
<p><code>关系型数据库：</code>安全，存储在磁盘中；如MySql、Oracle、SQlServer</p>
<p><code>非关系型数据库：</code>不安全，存储在内存中；如Redis、MemcacheDB、mongoDB、Hbase</p>
</blockquote>
<h3 id="3、-HDFS的功能模块及原理详解"><a href="#3、-HDFS的功能模块及原理详解" class="headerlink" title="3、==HDFS的功能模块及原理详解=="></a>3、==HDFS的功能模块及原理详解==</h3><h4 id="lt-1-gt-HDFS数据存储模型（block）"><a href="#lt-1-gt-HDFS数据存储模型（block）" class="headerlink" title="&lt;1&gt; HDFS数据存储模型（block）"></a>&lt;1&gt; HDFS数据存储模型（block）</h4><p><img src="https://wx1.sinaimg.cn/large/005zftzDgy1fz0n3j6xvnj30fe09vdh0.jpg" alt="block"></p>
<h5 id="（1）文件被线性切分固定大小的数据块：block"><a href="#（1）文件被线性切分固定大小的数据块：block" class="headerlink" title="（1）文件被线性切分固定大小的数据块：block"></a>（1）文件被<code>线性切分</code>固定大小的数据块：block</h5><ul>
<li><p>通过偏移量offset（单位：byte）标记</p>
</li>
<li><p>默认数据块大小为64MB (hadoop1.x，hadoop2.x默认为128M）)，可自定义配置</p>
</li>
<li><p>若文件大小不到64MB ，则单独存成一个block</p>
</li>
</ul>
<h5 id="（2）一个文件存储方式"><a href="#（2）一个文件存储方式" class="headerlink" title="（2）一个文件存储方式"></a>（2）一个文件存储方式</h5><ul>
<li><p>按大小被切分成若干个block ，存储到<code>不同节点上</code></p>
</li>
<li><p>默认情况下每个block共有3个副本</p>
</li>
<li><p>副本数不大于节点数</p>
</li>
</ul>
<h5 id="（3）Block大小和副本数通过Client端上传文件时设置，"><a href="#（3）Block大小和副本数通过Client端上传文件时设置，" class="headerlink" title="（3）Block大小和副本数通过Client端上传文件时设置，"></a>（3）Block大小和副本数通过Client端上传文件时设置，</h5><blockquote>
<p> 文件上传成功后副本数可以变更，Block Size大小不可变更</p>
<p>块的大小远远大于普通文件系统，可以最小化寻址开销</p>
</blockquote>
<h4 id="lt-2-gt-NameNode（简称NN）"><a href="#lt-2-gt-NameNode（简称NN）" class="headerlink" title="&lt;2&gt;NameNode（简称NN）"></a>&lt;2&gt;NameNode（简称NN）</h4><blockquote>
<ul>
<li>存储<code>元数据</code>；</li>
<li>元数据保存在<code>内存中</code>；</li>
<li>保存<code>文件</code>、<code>block块</code>、<code>datanode</code>之间的映射关系</li>
</ul>
</blockquote>
<h5 id="1-gt-NN主要功能："><a href="#1-gt-NN主要功能：" class="headerlink" title="1&gt; NN主要功能："></a>1&gt; NN主要功能：</h5><blockquote>
<p>接收客户端的读写服务；接收DN汇报block位置关系</p>
</blockquote>
<h5 id="2-gt-NN保存metadate元信息"><a href="#2-gt-NN保存metadate元信息" class="headerlink" title="2&gt; NN保存metadate元信息"></a>2&gt; NN保存metadate元信息</h5><blockquote>
<p>基于<code>内存</code>存储，<code>不会</code>和磁盘发生交换</p>
</blockquote>
<p>​        <code>metadata</code>元数据信息包括以下</p>
<blockquote>
<ul>
<li><p>文件的归属（ownership）和权限（permission）</p>
</li>
<li><p>文件大小和写入时间</p>
</li>
<li><p>block列表【偏移量】：即一个完整文件有哪些block（b0+b1+b2+..=file）</p>
</li>
<li><p>位置信息（<code>动态 </code>的）：Block每个副本保存在哪个DataNode中</p>
<p><code>*注意*</code>：位置信息是由DN启动时上报给NN ，因为它会随时变化，所以不会保存在内存和磁盘中</p>
</li>
</ul>
</blockquote>
<h5 id="3-gt-NameNode的metadate信息在启动后会加载到内存"><a href="#3-gt-NameNode的metadate信息在启动后会加载到内存" class="headerlink" title="3&gt; NameNode的metadate信息在启动后会加载到内存"></a>3&gt; NameNode的metadate信息在启动后会加载到内存</h5><blockquote>
<p>同时：</p>
<p>metadata信息也会保存fsimage文件中（fsimage文件是位于磁盘上的镜像文件）</p>
<p>对metadata的操作日志也会记录在edits 文件中（edits文件是位于磁盘上的日志文件）</p>
</blockquote>
<h4 id="lt-3-gt-SecondaryNameNode（简称SNN）"><a href="#lt-3-gt-SecondaryNameNode（简称SNN）" class="headerlink" title="&lt;3&gt;SecondaryNameNode（简称SNN）"></a>&lt;3&gt;SecondaryNameNode（简称SNN）</h4><h5 id="1-gt-SNN主要功能"><a href="#1-gt-SNN主要功能" class="headerlink" title="1&gt;SNN主要功能"></a>1&gt;SNN主要功能</h5><blockquote>
<p>帮助NameNode合并edits和fsimage文件，减少NN启动时间；</p>
<p>SecondaryNameNode一般是单独运行在一台机器上；</p>
<p>它不是NN的备份（但可以做备份)。</p>
</blockquote>
<h5 id="2-gt-合并流程"><a href="#2-gt-合并流程" class="headerlink" title="2&gt;合并流程"></a>2&gt;合并流程</h5><p><img src="https://wx1.sinaimg.cn/large/005zftzDgy1fz0p1lys2zj30f009vwf2.jpg" alt="SNN合并"></p>
<pre class="line-numbers language-txt"><code class="language-txt">SecondaryNameNode的工作情况：
（1）SecondaryNameNode会定期和NameNode通信，请求其停止使用EditLog文件，
     暂时将新的写操作写到一个新的文件edit.new上来，这个操作是瞬间完成，
     上层写日志的函数完全感觉不到差别；
（2）SecondaryNameNode通过HTTP GET方式从NameNode上获取到FsImage和EditLog文
    件，并下载到本地的相应目录下；
（3）SecondaryNameNode将下载下来的FsImage载入到内存，然后一条一条地执行EditLog文件中的各项更新操作，使得内存中的FsImage保持最新；
    这个过程就是EditLog和FsImage文件合并；
（4）SecondaryNameNode执行完（3）操作之后，
     会通过post方式将新的FsImage文件发送到NameNode节点上
（5）NameNode将从SecondaryNameNode接收到的新的FsImage替换旧的FsImage文件，
     同时将edit.new替换EditLog文件，通过这个过程EditLog就变小了<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h5 id="3-gt-合并机制"><a href="#3-gt-合并机制" class="headerlink" title="3&gt;合并机制"></a>3&gt;合并机制</h5><blockquote>
<p> ——-SNN执行合并时间和机制</p>
<ul>
<li>A、根据配置文件设置指定连续两次检查点的最大时间间隔 <code>fs.checkpoint.period</code> 默认3600秒（1小时）</li>
<li>B、根据配置文件设置edits log文件大小 <code>fs.checkpoint.size</code> 默认最大值64M</li>
<li>配置文件：core-site.xml</li>
</ul>
</blockquote>
<h4 id="lt-4-gt-DataNode（简称DN）"><a href="#lt-4-gt-DataNode（简称DN）" class="headerlink" title="&lt;4&gt;DataNode（简称DN）"></a>&lt;4&gt;DataNode（简称DN）</h4><h5 id="1-gt-DN主要功能"><a href="#1-gt-DN主要功能" class="headerlink" title="1&gt;  DN主要功能"></a>1&gt;  DN主要功能</h5><blockquote>
<ul>
<li>存储<code>文件内容</code>（block）；</li>
<li>文件内容保存在<code>磁盘</code>；</li>
<li>维护了<code>block id</code> 到<code>datanode本地文件</code>的映射关系</li>
<li>启动DN线程的时候会向NameNode汇报block位置信息</li>
</ul>
</blockquote>
<h5 id="2-gt-DN工作机制"><a href="#2-gt-DN工作机制" class="headerlink" title="2&gt;   DN工作机制"></a>2&gt;   DN工作机制</h5><pre><code>•    数据节点是分布式文件系统HDFS的工作节点，负责数据的存储和读取，
•    会根据客户端或者是名称节点的调度来进行数据的存储和检索，
•    并且通过心跳机制向名称节点定期发送自己所存储的块的列表，保持与其联系（3秒一次）
    （如果NN 10分钟没有收到DN的心跳，则认为其已经lost，并copy其上的block到其它DN）
•    每个数据节点中的数据会被保存在各自节点的本地Linux文件系统中</code></pre>
<h5 id="3-gt-block的副本放置策略"><a href="#3-gt-block的副本放置策略" class="headerlink" title="3&gt; block的副本放置策略"></a>3&gt; block的副本放置策略</h5><blockquote>
<p>–  第一个副本：放置在上传文件的DN（集群内提交）；</p>
<p>​                           如果是集群外提交，则随机挑选一台磁盘不太满，CPU不太忙的节点。</p>
<p>–  第二个副本：放置在于第一个副本不同的机架的节点上。</p>
<p>–  第三个副本：与第二个副本相同机架的不同节点。</p>
<p>–  更多副本：随机节点</p>
</blockquote>
<p><img src="https://wx1.sinaimg.cn/large/005zftzDgy1fz1ny1tfrjj30f00akaaf.jpg" alt="block块存放位置"></p>
<h3 id="4、HDFS读写流程"><a href="#4、HDFS读写流程" class="headerlink" title="4、HDFS读写流程"></a>4、HDFS读写流程</h3><h4 id="lt-1-gt-读文件过程"><a href="#lt-1-gt-读文件过程" class="headerlink" title="&lt;1&gt; 读文件过程"></a>&lt;1&gt; 读文件过程</h4><p><img src="https://wx1.sinaimg.cn/large/005zftzDgy1fz1o4z4nmwj30gm09vgmg.jpg" alt="read"></p>
<blockquote>
<p>1、首先<code>client端</code>调用DistributedFileSystem对象（<code>DFS</code>）的<code>open方法</code>，（DFS：一个DistributedFileSystem的实例）。<br>2、DistributedFileSystem通过<code>rpc</code>协议从NameNode（<code>NN</code>）获得文件的第一批block的<code>locations</code>，（同一个block按副本数会返回多个locations，因为同一文件的block<code>分布式存储</code>在不同节点上），这些locations按照hadoop拓扑结构排序，距离客户端近的排在前面（<code>就近选择</code>）。</p>
<p>3、前两步会返回一个FSDataInputStream对象，该对象会被封装DFSInputStream对象，DFSInputStream可以方便的管理DN和NN的数据流。客户端调用<code>read方法</code>，DFSInputStream会连接离客户端最近的DN，数据从DN源源不断的流向客户端（对客户端是透明的，只能看到一个读入的Input流）。</p>
<p>4、如果第一批block都读完了， DFSInputStream就会去NN拿下一批block的locations，然后继续读，如果所有的块都读完，这时就会关闭掉所有的流</p>
</blockquote>
<p><img src="https://wx1.sinaimg.cn/large/005zftzDgy1fz1ptkw9krj30q40gegpp.jpg" alt="读"></p>
<p><code>注意：</code></p>
<pre><code>   如果在读数据的时候,DFSInputStream和DN的通讯发生异常，就会尝试连接正在读的block的排序第二近的DN,并且会记录哪个DN发生错误，剩余的blocks读的时候就会直接跳过该DN。
   DFSInputStream也会检查block数据校验和，如果发现一个坏的block,就会先报告到NN，然后DFSInputStream在其他的DN上读该block的镜像。
   该设计就是客户端直接连接DN来检索数据，并且NN来负责为每一个block提供最优的DN，NN仅仅处理block location的请求，这些信息都加载在NN的内存中，hdfs通过DN集群可以承受大量客户端的并发访问。


   * RPC *（Remote Procedure Call Protocol）——远程过程调用协议，它是一种通过网络从远程计算机程序上请求服务，而不需要了解底层网络技术的协议。RPC协议假定某些传输协议的存在，如TCP或UDP，为通信程序之间携带信息数据。在OSI网络通信模型中，RPC跨越了传输层和应用层。RPC使得开发包括网络分布式多程序在内的应用程序更加容易。
RPC采用客户机/服务器模式。请求程序就是一个客户机，而服务提供程序就是一个服务器。首先，客户机调用进程发送一个有进程参数的调用信息到服务进程，然后等待应答信息。在服务器端，进程保持睡眠状态直到调用信息到达为止。当一个调用信息到达，服务器获得进程参数，计算结果，发送答复信息，然后等待下一个调用信息，最后，客户端调用进程接收答复信息，获得进程结果，然后调用执行继续进行。
</code></pre>
<h4 id="lt-2-gt-写文件过程"><a href="#lt-2-gt-写文件过程" class="headerlink" title="&lt;2&gt;写文件过程"></a>&lt;2&gt;写文件过程</h4><p><img src="https://wx1.sinaimg.cn/large/005zftzDgy1fz1o6wamv3j30ga0aawfd.jpg" alt="write">3</p>
<blockquote>
<p>**1.**客户端通过调用DistributedFileSystem的<code>create方法</code>创建新文件。</p>
<p>**2.**DistributedFileSystem通过<code>RPC</code>调用NN去创建一个没有blocks关联的新文件，创建前，NN会做各种校验，比如文件是否存在，客户端有无权限去创建等。如果校验通过，NN就会记录下新文件，否则就会抛出IO异常。</p>
<p>**3.**前两步结束后，会返回FSDataOutputStream的对象，封装在DFSOutputStream，客户端开始写数据到DFSOutputStream，DFSOutputStream会把数据切成一个个小的<code>packet</code>，然后排成队列dataQuene。</p>
<p>**4.**NN会给这个新的block分配最适合存储的几个datanode，DFSOutputStream把packet包排成一个<code>管道pipeline</code>输出。先按队列输出到管道的第一个datanode中，并将该Packet从dataQueue队列中移到ackQueue队列中，第一个datanode又把packet输出到第二个datanode中，以此类推。</p>
<p>**5.**DFSOutputStream中的<code>ackQuene</code>，也是由packet组成，等待DN的收到响应，当pipeline中的DN都表示已经收到数据的时候，这时ackQuene才会把对应的packet包移除掉。 如果在写的过程中某个DN发生错误，会采取以下几步：</p>
<p>​      1) pipeline被关闭掉；  </p>
<p>​      2)为了防止丢包，ackQuene里的packet会<code>同步</code>到dataQuene里;新建pipeline管道接到其他正常DN上</p>
<p>​     4)剩下的部分被写到剩下的正常的datanode中； </p>
<p>​     5)NN找到另外的DN去创建这个块的复制。（对客户端透明）</p>
<p>**6.**客户端完成写数据后调用<code>close方法</code>关闭写入流</p>
</blockquote>
<p><code>注意：</code>客户端执行write操作后，写完的block才是可见的，正在写的block对客户端是不可见的</p>
<p><img src="https://wx1.sinaimg.cn/large/005zftzDgy1fz1ptp2xlej30on0gf78r.jpg" alt="写"></p>
<h3 id="5-HDFS文件权限和安全模式"><a href="#5-HDFS文件权限和安全模式" class="headerlink" title="5.HDFS文件权限和安全模式"></a>5.HDFS文件权限和安全模式</h3><h4 id="lt-1-gt-？？HDFS文件权限？？"><a href="#lt-1-gt-？？HDFS文件权限？？" class="headerlink" title="&lt;1&gt;？？HDFS文件权限？？"></a>&lt;1&gt;？？HDFS文件权限？？</h4><p>– 与Linux文件权限类似 </p>
<blockquote>
<p>   • r: read;    w:write;    x:execute，权限x对于文件忽略，对于文件夹表示是否允许访问其内容 </p>
</blockquote>
<p>– 如果Linux系统用户zs使用hadoop命令创建一个文件，那么这个 文件在HDFS中owner就是zs。 </p>
<p>– HDFS的权限目的：阻止好人做错事，而不是阻止坏人做坏事。</p>
<h4 id="lt-2-gt-？？安全模式？？"><a href="#lt-2-gt-？？安全模式？？" class="headerlink" title="&lt;2&gt;？？安全模式？？"></a>&lt;2&gt;？？安全模式？？</h4><blockquote>
<ul>
<li>NN启动的时候，首先将映像文件(fsimage)载入内存，并执行编辑日志(edits)中的各项操作。 </li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>一旦在内存中成功建立文件系统元数据的映射，则创建一个新的fsimage文件(这个操作不需要SecondaryNameNode)和一个空的编辑日志。 </li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>此刻namenode运行在安全模式。即namenode的文件系统对于客服端来说是只读的。(显示目录，显示文件内容等。写、删除、重命名都会失败)。 </li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>在此阶段Namenode收集各个datanode的报告，当数据块达到最小副本数以上时，会被认为是“安全”的， 在一定比例（可设置）的数据块被确定为“安全”后，再过若干时间，安全模式结束 </li>
</ul>
</blockquote>
<blockquote>
<ul>
<li>当检测到副本数不足的数据块时，该块会被复制直到达到最小副本数，系统中数据块的位置并不是由namenode维护的，而是以块列表形式存储在datanode中。</li>
</ul>
</blockquote>
<p><img src="https://wx1.sinaimg.cn/large/005zftzDgy1fz1s32tmr2j30hj04ggmr.jpg" alt="异常"></p>
<p>手动退出安全模式：</p>
<pre class="line-numbers language-shell"><code class="language-shell">hdfs namenode -safemode leave<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="二、完全分布式搭建及eclipse插件"><a href="#二、完全分布式搭建及eclipse插件" class="headerlink" title="二、完全分布式搭建及eclipse插件"></a>二、完全分布式搭建及eclipse插件</h2><h3 id="1、-完全分布式搭建（必备）"><a href="#1、-完全分布式搭建（必备）" class="headerlink" title="1、==完全分布式搭建（必备）=="></a>1、==完全分布式搭建（必备）==</h3><h4 id="（1）环境的准备"><a href="#（1）环境的准备" class="headerlink" title="（1）环境的准备"></a>（1）环境的准备</h4><blockquote>
<ul>
<li>Linux (前面已经安装好了)</li>
</ul>
<ul>
<li><p>JDK（前面已经安装好了）</p>
</li>
<li><p>准备至少3台机器（通过克隆虚拟机；)</p>
</li>
<li><p>(网络配置、JDK搭建、hosts配置，保证节点间能互ping通）</p>
</li>
<li><p>时间同步</p>
<p>（推荐）ntpdate cn.ntp.org.cn </p>
<p> (ntpdate time.nist.gov)</p>
</li>
<li><p>ssh免秘钥登录   (两两互通免秘钥)</p>
</li>
</ul>
</blockquote>
<h4 id="（2）完全分布式搭建步骤"><a href="#（2）完全分布式搭建步骤" class="headerlink" title="（2）完全分布式搭建步骤"></a>（2）完全分布式搭建步骤</h4><h5 id="Hadoop-1-X"><a href="#Hadoop-1-X" class="headerlink" title="Hadoop 1.X"></a><strong>Hadoop 1.X</strong></h5><h6 id="1、下载解压缩Hadoop"><a href="#1、下载解压缩Hadoop" class="headerlink" title="1、下载解压缩Hadoop"></a>1、下载解压缩Hadoop</h6><h6 id="2、配置hadoop-hadoop-env-sh"><a href="#2、配置hadoop-hadoop-env-sh" class="headerlink" title="2、配置hadoop/hadoop-env.sh"></a>2、配置hadoop/hadoop-env.sh</h6><pre class="line-numbers language-sh"><code class="language-sh">export JAVA_HOME=/usr/java/latest <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h6 id="3、配置core-site-xml"><a href="#3、配置core-site-xml" class="headerlink" title="3、配置core-site.xml:"></a>3、配置core-site.xml:</h6><blockquote>
<p>fs.defaultFS 默认的服务端口NameNode URI</p>
<p>hadoop.tmp.dir 是hadoop文件系统依赖的基础配置，很多路径都依赖它。如果hdfs-site.xml中不配 置namenode和datanode的存放位置，默认就放在这个路径中</p>
</blockquote>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>fs.defaultFS<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>hdfs://node01:9000<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>hadoop.tmp.dir<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>/opt/hadoop-2.6.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h6 id="4、配置hdfs-site-xml"><a href="#4、配置hdfs-site-xml" class="headerlink" title="4、配置hdfs-site.xml:"></a>4、配置hdfs-site.xml:</h6><p>dfs.datanode.https.address   https服务的端口，浏览器访问端口</p>
<pre class="line-numbers language-xml"><code class="language-xml"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
  <span class="token comment" spellcheck="true">&lt;!--默认为3个副本，若指定，则以指定的为准--></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>dfs.replication<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
     <span class="token comment" spellcheck="true">&lt;!--http访问：SecondaryNameNode的服务器的ip地址别名,端口号50090--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>dfs.namenode.secondary.http-address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>node02:50090<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span><span class="token punctuation">></span></span>
    <span class="token comment" spellcheck="true">&lt;!--https访问：SecondaryNameNode的服务器的ip地址别名,端口号50090--></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>name</span><span class="token punctuation">></span></span>dfs.namenode.secondary.https-address<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>name</span><span class="token punctuation">></span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>value</span><span class="token punctuation">></span></span>node02:50091<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>value</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>property</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h6 id="5、Masters-master-可以做主备的SNN"><a href="#5、Masters-master-可以做主备的SNN" class="headerlink" title="5、Masters:master 可以做主备的SNN"></a>5、Masters:<strong>master</strong> 可以做主备的SNN</h6><p>在/home/hadoop-2.6.5/etc/hadoop/新建masters文件 写上<strong>SNN</strong>节点名： node02（IP地址别名） </p>
<h6 id="6、Slaves-slave-奴隶-苦干；拼命工作"><a href="#6、Slaves-slave-奴隶-苦干；拼命工作" class="headerlink" title="6、Slaves: slave 奴隶 苦干；拼命工作"></a>6、Slaves: <strong>slave</strong> 奴隶 苦干；拼命工作</h6><p>在/home/hadoop-2.5.1/etc/hadoop/slaves文件中填写<strong>DN</strong> 节点名：node02 node03 [注意：每行写一个 写成3行]</p>
<h6 id="7、最后将配置好的Hadoop通过SCP命令发送都其他节点"><a href="#7、最后将配置好的Hadoop通过SCP命令发送都其他节点" class="headerlink" title="7、最后将配置好的Hadoop通过SCP命令发送都其他节点"></a>7、最后将配置好的Hadoop通过SCP命令发送都其他节点</h6><p>   配置Hadoop的环境变量</p>
<p>8、vim ~/.bash_profile  (最好手敲输入 粘贴有时候会出错)</p>
<pre class="line-numbers language-properties"><code class="language-properties"><span class="token attr-name">export</span> <span class="token attr-value">HADOOP_HOME/home/hadoop-2.6.5</span>
<span class="token attr-name">export</span> <span class="token attr-value">PATH=$PATH:$HADOOP_HOME/bin:$HADOOP_HOME/sbin</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
<p> 9、记得一定要  source ~/.bash_profile<br>10、回到跟目录下对NN进行格式化  hdfs namenode -format</p>
<p>11、启动HDFS： start-dfs.sh</p>
<p>12、关闭防火墙：service iptables stop<br>在浏览器输入 node01:50070 </p>
<h5 id="Hadoop-2-X"><a href="#Hadoop-2-X" class="headerlink" title="==!!Hadoop 2.X!!=="></a>==!!<strong>Hadoop 2.X</strong>!!==</h5><p><code>详情见Hadoop2.X.md文件</code></p>
<h3 id="2、HDFS命令"><a href="#2、HDFS命令" class="headerlink" title="2、HDFS命令"></a>2、HDFS命令</h3><h4 id="0-命令-：hdfs-dfs"><a href="#0-命令-：hdfs-dfs" class="headerlink" title="(0)  命令 ：hdfs dfs"></a>(0)  命令 ：hdfs dfs</h4><h4 id="1-上传文件到HDFS："><a href="#1-上传文件到HDFS：" class="headerlink" title="(1)上传文件到HDFS："></a>(1)上传文件到HDFS：</h4><blockquote>
<p> **hdfs dfs -put 本地路径/fileName **PATH [hdfs的文件路径]</p>
</blockquote>
<blockquote>
<p>上传本地文件/root/install.log到/myhdfs目录下</p>
<pre class="line-numbers language-shell"><code class="language-shell">hdfs dfs -put /root/install.log /myhdfs<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>​                                      （文件路径)                (上传目录）    </p>
</blockquote>
<h4 id="2-创建文件夹"><a href="#2-创建文件夹" class="headerlink" title="(2)创建文件夹"></a>(2)创建文件夹</h4><blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">hdfs dfs -mkdir[-p] <paths><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p> <strong>-p</strong>   穿透，用于创建多级文件夹</p>
</blockquote>
<h4 id="3-删除文件或文件夹"><a href="#3-删除文件或文件夹" class="headerlink" title="(3)删除文件或文件夹"></a>(3)<strong>删除文件或文件夹</strong></h4><blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">hdfs dfs -rm -r /myhadoop1.0 <span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p>删除多个文件夹</p>
<pre class="line-numbers language-shell"><code class="language-shell">hdfs dfs -rm -r /input /logs<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<p><strong>-r</strong>   递归，用于删除文件夹以及下级文件和文件夹</p>
</blockquote>
<pre class="line-numbers language-shell"><code class="language-shell">hdfs dfs -du [-s] [-h] URI[URI ...] 显示文件(夹)大小. 

hdfs dfs -cp [-f] [-p] URI[URI...]<dest>    复制文件(夹)，可以覆盖，可以保留原有权限信息

hdfs dfs -count [-q] [-h] <paths>列出文件夹数量、文件数量、内容大小.

hdfs dfs -chown [-R] [OWNER] [:[GROUP]] URI[URI] 修改所有者.

hdfs dfs -chmod [-R]<MODE[,MODE]...|OCTALMODE> URI[URI ...] 修改权限.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h4 id="（4）指定block大小"><a href="#（4）指定block大小" class="headerlink" title="（4）指定block大小"></a>（4）指定block大小</h4><p>其中副本数是在在配置文件中配置</p>
<pre class="line-numbers language-shell"><code class="language-shell">产生100000条数据：

for i in `seq 100000`;do  echo "hello sxt $i" >> test.txt;done

上传文件test.txt到指定的Java22目录下，并指定block块的大小1M：

hdfs dfs -D dfs.blocksize=1048576 -put test.txt /java22

-D   ----设置属性
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h3 id="3、eclipse插件安装配置"><a href="#3、eclipse插件安装配置" class="headerlink" title="3、eclipse插件安装配置"></a>3、eclipse插件安装配置</h3><h4 id="（1）、导入插件"><a href="#（1）、导入插件" class="headerlink" title="（1）、导入插件"></a>（1）、导入插件</h4><blockquote>
<p>将以下jar包放入eclipse的plugins文件夹中</p>
<p>​         hadoop-eclipse-plugin-2.6.0.jar</p>
</blockquote>
<p>启动eclipse：出现界面如下：</p>
<p><img src="https://wx1.sinaimg.cn/large/005zftzDgy1fz1uhqzg9oj30fe09nt9c.jpg" alt="插件应用"></p>
<h4 id="（2）配置环境变量"><a href="#（2）配置环境变量" class="headerlink" title="（2）配置环境变量"></a>（2）配置环境变量</h4><p><strong>Eclipse</strong>插件安装完后修改windows下的用户名，然后重启Eclipse：</p>
<p><strong>【注意：改成Windows下用户的用户名root（重启生效）或改Linux文件的用户】</strong></p>
<p><img src="https://wx1.sinaimg.cn/large/005zftzDgy1fz1uk49nbrj30fe0770tj.jpg" alt="环境变量"></p>
<h4 id="（3）新建Java项目"><a href="#（3）新建Java项目" class="headerlink" title="（3）新建Java项目"></a>（3）新建Java项目</h4><p><img src="https://wx1.sinaimg.cn/large/005zftzDgy1fz1ut3z3r2j30et0ah0tw.jpg"></p>
<p><img src="https://wx1.sinaimg.cn/large/005zftzDgy1g182idgjuuj30fe0a6my9.jpg"></p>
<p><img src="https://wx1.sinaimg.cn/large/005zftzDgy1fz1utb5r5tj30fe0brgmt.jpg"></p>
<p><img src="https://wx1.sinaimg.cn/large/005zftzDgy1fz1uw9a82yj30g508qmxh.jpg"></p>
<h2 id="三、网盘"><a href="#三、网盘" class="headerlink" title="三、网盘"></a>三、网盘</h2><p><strong>1、代码编写</strong></p>
<p><strong>新建Java项目，导入所需要的jar包</strong></p>
<pre><code>     hadoop中的share\hadoop\hdfs

     hadoop中的share\hadoop\hdfs\lib

     hadoop中的share\hadoop\common

     hadoop中的share\hadoop\common\lib下的jar包。
</code></pre>
<p><strong>block</strong>底层—offset偏移量来读取字节数组</p>
<pre class="line-numbers language-java"><code class="language-java"><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">blk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> Exception <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
        Path ifile <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Path</span><span class="token punctuation">(</span><span class="token string">""</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        FileStatus file <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">getFileStatus</span><span class="token punctuation">(</span>ifile <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment" spellcheck="true">//      获取block的location信息HDFS分布式文件存储系统根据其偏移量的位置信息来读取其内容</span>
        BlockLocation<span class="token punctuation">[</span><span class="token punctuation">]</span> blk <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">getFileBlockLocations</span><span class="token punctuation">(</span>file<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span> file<span class="token punctuation">.</span><span class="token function">getLen</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span>BlockLocation bb <span class="token operator">:</span> blk<span class="token punctuation">)</span> <span class="token operator">&amp;</span>#<span class="token number">123</span><span class="token punctuation">;</span>
            System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>bb<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
        FSDataInputStream input <span class="token operator">=</span> fs<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>ifile<span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>input<span class="token punctuation">.</span><span class="token function">readByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>input<span class="token punctuation">.</span><span class="token function">readByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>        
<span class="token comment" spellcheck="true">//        指定从哪个offset的位置偏移量来读</span>
        input<span class="token punctuation">.</span><span class="token function">seek</span><span class="token punctuation">(</span><span class="token number">1048576</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>input<span class="token punctuation">.</span><span class="token function">readByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        input<span class="token punctuation">.</span><span class="token function">seek</span><span class="token punctuation">(</span><span class="token number">1048576</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        System<span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token keyword">char</span><span class="token punctuation">)</span>input<span class="token punctuation">.</span><span class="token function">readByte</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token operator">&amp;</span>#<span class="token number">125</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><strong>HDFS读取合并的小文件</strong></p>

      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>Title:</span><a href="/2019/01/03/HDFS%E5%AD%A6%E4%B9%A0/">HDFS学习</a></p>
        <p><span>Author:</span><a href="/" title="Back to Homepage">Sukie</a></p>
        <p><span>Created:</span>2019-01-03, 08:30:00</p>
        <p><span>Updated:</span>2020-08-07, 21:07:21</p>
        <p>
            <span>Full URL:</span><a class="post-url" href="/2019/01/03/HDFS%E5%AD%A6%E4%B9%A0/" title="HDFS学习">https://sukie-sun.github.io/2019/01/03/HDFS%E5%AD%A6%E4%B9%A0/</a>
            <span class="copy-path" data-clipboard-text="From https://sukie-sun.github.io/2019/01/03/HDFS%E5%AD%A6%E4%B9%A0/　　By Sukie" title="Copy Article&#39;s Link &amp; Author"><i class="fa fa-clipboard"></i></span>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>License:</span><i class="fa fa-creative-commons"></i> <a rel="license noopener" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" title="CC BY-NC-SA 4.0 International" target = "_blank">"CC BY-NC-SA 4.0"</a> Keep Link &amp; Author if Distribute.
        </p>
    </div>



    <nav id="article-nav">
        
            <div id="article-nav-newer" class="article-nav-title">
                <a href="/2019/01/03/Hadoop2.X/">
                    Hadoop2.X
                </a>
            </div>
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/2019/01/02/Nginx%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A02/">
                    Nginx入门学习（二）
                </a>
            </div>
        
    </nav>

  
</article>

    <div id="toc" class="toc-article">
        <strong class="toc-title">Contents</strong>
        
            <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%80%E3%80%81%E5%88%86%E5%B8%83%E5%BC%8F%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A8%E7%B3%BB%E7%BB%9FHDFS"><span class="toc-number">1.</span> <span class="toc-text">一、分布式文件存储系统HDFS</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AF%E5%88%86%E5%B8%83%E5%BC%8F%EF%BC%9F"><span class="toc-number">1.1.</span> <span class="toc-text">1、什么是分布式？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81%E4%BB%80%E4%B9%88%E6%98%AFHDFS%EF%BC%9F"><span class="toc-number">1.2.</span> <span class="toc-text">2、什么是HDFS？</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89HDFS%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BC%9A%E5%87%BA%E7%8E%B0%EF%BC%9F"><span class="toc-number">1.2.1.</span> <span class="toc-text">（1）HDFS为什么会出现？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89-HDFS%E7%9A%84%E7%89%B9%E7%82%B9"><span class="toc-number">1.2.2.</span> <span class="toc-text">（2）&#x3D;&#x3D;HDFS的特点&#x3D;&#x3D;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89-HDFS%E6%9E%B6%E6%9E%84%E5%9B%BE"><span class="toc-number">1.2.3.</span> <span class="toc-text">（3）&#x3D;&#x3D;HDFS架构图&#x3D;&#x3D;</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81-HDFS%E7%9A%84%E5%8A%9F%E8%83%BD%E6%A8%A1%E5%9D%97%E5%8F%8A%E5%8E%9F%E7%90%86%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.3.</span> <span class="toc-text">3、&#x3D;&#x3D;HDFS的功能模块及原理详解&#x3D;&#x3D;</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#lt-1-gt-HDFS%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8%E6%A8%A1%E5%9E%8B%EF%BC%88block%EF%BC%89"><span class="toc-number">1.3.1.</span> <span class="toc-text">&lt;1&gt; HDFS数据存储模型（block）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E6%96%87%E4%BB%B6%E8%A2%AB%E7%BA%BF%E6%80%A7%E5%88%87%E5%88%86%E5%9B%BA%E5%AE%9A%E5%A4%A7%E5%B0%8F%E7%9A%84%E6%95%B0%E6%8D%AE%E5%9D%97%EF%BC%9Ablock"><span class="toc-number">1.3.1.1.</span> <span class="toc-text">（1）文件被线性切分固定大小的数据块：block</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E4%B8%80%E4%B8%AA%E6%96%87%E4%BB%B6%E5%AD%98%E5%82%A8%E6%96%B9%E5%BC%8F"><span class="toc-number">1.3.1.2.</span> <span class="toc-text">（2）一个文件存储方式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%EF%BC%883%EF%BC%89Block%E5%A4%A7%E5%B0%8F%E5%92%8C%E5%89%AF%E6%9C%AC%E6%95%B0%E9%80%9A%E8%BF%87Client%E7%AB%AF%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E6%97%B6%E8%AE%BE%E7%BD%AE%EF%BC%8C"><span class="toc-number">1.3.1.3.</span> <span class="toc-text">（3）Block大小和副本数通过Client端上传文件时设置，</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lt-2-gt-NameNode%EF%BC%88%E7%AE%80%E7%A7%B0NN%EF%BC%89"><span class="toc-number">1.3.2.</span> <span class="toc-text">&lt;2&gt;NameNode（简称NN）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-gt-NN%E4%B8%BB%E8%A6%81%E5%8A%9F%E8%83%BD%EF%BC%9A"><span class="toc-number">1.3.2.1.</span> <span class="toc-text">1&gt; NN主要功能：</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-gt-NN%E4%BF%9D%E5%AD%98metadate%E5%85%83%E4%BF%A1%E6%81%AF"><span class="toc-number">1.3.2.2.</span> <span class="toc-text">2&gt; NN保存metadate元信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-gt-NameNode%E7%9A%84metadate%E4%BF%A1%E6%81%AF%E5%9C%A8%E5%90%AF%E5%8A%A8%E5%90%8E%E4%BC%9A%E5%8A%A0%E8%BD%BD%E5%88%B0%E5%86%85%E5%AD%98"><span class="toc-number">1.3.2.3.</span> <span class="toc-text">3&gt; NameNode的metadate信息在启动后会加载到内存</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lt-3-gt-SecondaryNameNode%EF%BC%88%E7%AE%80%E7%A7%B0SNN%EF%BC%89"><span class="toc-number">1.3.3.</span> <span class="toc-text">&lt;3&gt;SecondaryNameNode（简称SNN）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-gt-SNN%E4%B8%BB%E8%A6%81%E5%8A%9F%E8%83%BD"><span class="toc-number">1.3.3.1.</span> <span class="toc-text">1&gt;SNN主要功能</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-gt-%E5%90%88%E5%B9%B6%E6%B5%81%E7%A8%8B"><span class="toc-number">1.3.3.2.</span> <span class="toc-text">2&gt;合并流程</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-gt-%E5%90%88%E5%B9%B6%E6%9C%BA%E5%88%B6"><span class="toc-number">1.3.3.3.</span> <span class="toc-text">3&gt;合并机制</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lt-4-gt-DataNode%EF%BC%88%E7%AE%80%E7%A7%B0DN%EF%BC%89"><span class="toc-number">1.3.4.</span> <span class="toc-text">&lt;4&gt;DataNode（简称DN）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-gt-DN%E4%B8%BB%E8%A6%81%E5%8A%9F%E8%83%BD"><span class="toc-number">1.3.4.1.</span> <span class="toc-text">1&gt;  DN主要功能</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-gt-DN%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6"><span class="toc-number">1.3.4.2.</span> <span class="toc-text">2&gt;   DN工作机制</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-gt-block%E7%9A%84%E5%89%AF%E6%9C%AC%E6%94%BE%E7%BD%AE%E7%AD%96%E7%95%A5"><span class="toc-number">1.3.4.3.</span> <span class="toc-text">3&gt; block的副本放置策略</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E3%80%81HDFS%E8%AF%BB%E5%86%99%E6%B5%81%E7%A8%8B"><span class="toc-number">1.4.</span> <span class="toc-text">4、HDFS读写流程</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#lt-1-gt-%E8%AF%BB%E6%96%87%E4%BB%B6%E8%BF%87%E7%A8%8B"><span class="toc-number">1.4.1.</span> <span class="toc-text">&lt;1&gt; 读文件过程</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lt-2-gt-%E5%86%99%E6%96%87%E4%BB%B6%E8%BF%87%E7%A8%8B"><span class="toc-number">1.4.2.</span> <span class="toc-text">&lt;2&gt;写文件过程</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-HDFS%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%E5%92%8C%E5%AE%89%E5%85%A8%E6%A8%A1%E5%BC%8F"><span class="toc-number">1.5.</span> <span class="toc-text">5.HDFS文件权限和安全模式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#lt-1-gt-%EF%BC%9F%EF%BC%9FHDFS%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%EF%BC%9F%EF%BC%9F"><span class="toc-number">1.5.1.</span> <span class="toc-text">&lt;1&gt;？？HDFS文件权限？？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#lt-2-gt-%EF%BC%9F%EF%BC%9F%E5%AE%89%E5%85%A8%E6%A8%A1%E5%BC%8F%EF%BC%9F%EF%BC%9F"><span class="toc-number">1.5.2.</span> <span class="toc-text">&lt;2&gt;？？安全模式？？</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BA%8C%E3%80%81%E5%AE%8C%E5%85%A8%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%AD%E5%BB%BA%E5%8F%8Aeclipse%E6%8F%92%E4%BB%B6"><span class="toc-number">2.</span> <span class="toc-text">二、完全分布式搭建及eclipse插件</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E3%80%81-%E5%AE%8C%E5%85%A8%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%AD%E5%BB%BA%EF%BC%88%E5%BF%85%E5%A4%87%EF%BC%89"><span class="toc-number">2.1.</span> <span class="toc-text">1、&#x3D;&#x3D;完全分布式搭建（必备）&#x3D;&#x3D;</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E7%8E%AF%E5%A2%83%E7%9A%84%E5%87%86%E5%A4%87"><span class="toc-number">2.1.1.</span> <span class="toc-text">（1）环境的准备</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E5%AE%8C%E5%85%A8%E5%88%86%E5%B8%83%E5%BC%8F%E6%90%AD%E5%BB%BA%E6%AD%A5%E9%AA%A4"><span class="toc-number">2.1.2.</span> <span class="toc-text">（2）完全分布式搭建步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Hadoop-1-X"><span class="toc-number">2.1.2.1.</span> <span class="toc-text">Hadoop 1.X</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1%E3%80%81%E4%B8%8B%E8%BD%BD%E8%A7%A3%E5%8E%8B%E7%BC%A9Hadoop"><span class="toc-number">2.1.2.1.1.</span> <span class="toc-text">1、下载解压缩Hadoop</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2%E3%80%81%E9%85%8D%E7%BD%AEhadoop-hadoop-env-sh"><span class="toc-number">2.1.2.1.2.</span> <span class="toc-text">2、配置hadoop&#x2F;hadoop-env.sh</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3%E3%80%81%E9%85%8D%E7%BD%AEcore-site-xml"><span class="toc-number">2.1.2.1.3.</span> <span class="toc-text">3、配置core-site.xml:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4%E3%80%81%E9%85%8D%E7%BD%AEhdfs-site-xml"><span class="toc-number">2.1.2.1.4.</span> <span class="toc-text">4、配置hdfs-site.xml:</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#5%E3%80%81Masters-master-%E5%8F%AF%E4%BB%A5%E5%81%9A%E4%B8%BB%E5%A4%87%E7%9A%84SNN"><span class="toc-number">2.1.2.1.5.</span> <span class="toc-text">5、Masters:master 可以做主备的SNN</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#6%E3%80%81Slaves-slave-%E5%A5%B4%E9%9A%B6-%E8%8B%A6%E5%B9%B2%EF%BC%9B%E6%8B%BC%E5%91%BD%E5%B7%A5%E4%BD%9C"><span class="toc-number">2.1.2.1.6.</span> <span class="toc-text">6、Slaves: slave 奴隶 苦干；拼命工作</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#7%E3%80%81%E6%9C%80%E5%90%8E%E5%B0%86%E9%85%8D%E7%BD%AE%E5%A5%BD%E7%9A%84Hadoop%E9%80%9A%E8%BF%87SCP%E5%91%BD%E4%BB%A4%E5%8F%91%E9%80%81%E9%83%BD%E5%85%B6%E4%BB%96%E8%8A%82%E7%82%B9"><span class="toc-number">2.1.2.1.7.</span> <span class="toc-text">7、最后将配置好的Hadoop通过SCP命令发送都其他节点</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Hadoop-2-X"><span class="toc-number">2.1.2.2.</span> <span class="toc-text">&#x3D;&#x3D;!!Hadoop 2.X!!&#x3D;&#x3D;</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E3%80%81HDFS%E5%91%BD%E4%BB%A4"><span class="toc-number">2.2.</span> <span class="toc-text">2、HDFS命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#0-%E5%91%BD%E4%BB%A4-%EF%BC%9Ahdfs-dfs"><span class="toc-number">2.2.1.</span> <span class="toc-text">(0)  命令 ：hdfs dfs</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E4%B8%8A%E4%BC%A0%E6%96%87%E4%BB%B6%E5%88%B0HDFS%EF%BC%9A"><span class="toc-number">2.2.2.</span> <span class="toc-text">(1)上传文件到HDFS：</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-number">2.2.3.</span> <span class="toc-text">(2)创建文件夹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E6%88%96%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-number">2.2.4.</span> <span class="toc-text">(3)删除文件或文件夹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%884%EF%BC%89%E6%8C%87%E5%AE%9Ablock%E5%A4%A7%E5%B0%8F"><span class="toc-number">2.2.5.</span> <span class="toc-text">（4）指定block大小</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E3%80%81eclipse%E6%8F%92%E4%BB%B6%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE"><span class="toc-number">2.3.</span> <span class="toc-text">3、eclipse插件安装配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%881%EF%BC%89%E3%80%81%E5%AF%BC%E5%85%A5%E6%8F%92%E4%BB%B6"><span class="toc-number">2.3.1.</span> <span class="toc-text">（1）、导入插件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%882%EF%BC%89%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">2.3.2.</span> <span class="toc-text">（2）配置环境变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%EF%BC%883%EF%BC%89%E6%96%B0%E5%BB%BAJava%E9%A1%B9%E7%9B%AE"><span class="toc-number">2.3.3.</span> <span class="toc-text">（3）新建Java项目</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E7%BD%91%E7%9B%98"><span class="toc-number">3.</span> <span class="toc-text">三、网盘</span></a></li></ol>
        
    </div>
    <style>
        .left-col .switch-btn,
        .left-col .switch-area {
            display: none;
        }
        .toc-level-3 i,
        .toc-level-3 ol {
            display: none !important;
        }
    </style>

    <input type="button" id="tocButton" value="Hide"  title="Show or Hide Table of Contents">

    <script>
        yiliaConfig.toc = ["Hide", "Show", !!"false"];
    </script>



    
<div class="share">
    
        <div class="bdsharebuttonbox">
            <a href="#" class="fa fa-twitter bds_twi" data-cmd="twi" title="分享到推特"></a>
            <a href="#" class="fa fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
            <a href="#" class="fa fa-qq bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a>
            <a href="#" class="fa fa-files-o bds_copy" data-cmd="copy" title="复制网址"></a>
            <a href="#" class="fa fa fa-envelope-o bds_mail" data-cmd="mail" title="通过邮件分享"></a>
            <a href="#" class="fa fa-weixin bds_weixin" data-cmd="weixin" title="生成文章二维码"></a>
            <a href="#" class="fa fa-share-alt bds_more" data-cmd="more"></i></a>
        </div>
        <script>
            window._bd_share_config={
                "common":{"bdSnsKey":{},"bdText":"HDFS学习　| Sukie's Blog　","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    

    
</div>







    
	  <section id="comments" style="margin: 2em; padding: 2em; background: rgba(255, 255, 255, 0.5)">
    <div id="vcomment" class="comment"></div>
    <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
    <script src="//unpkg.com/valine@1.2.0-beta1/dist/Valine.min.js"></script>
    <script>
      new Valine({
        el: '#vcomment',
        notify: 'true',
        verify: 'true',
        app_id: "qha2YfPRUR6IN1LfnbliYqay-gzGzoHsz",
        app_key: "b00TckRiHRVQphnJwuFp9isO",
        placeholder: "Just go go!",
        avatar: "mp"
      });
    </script>
</section>	  
    




    <div class="scroll" id="post-nav-button">
        
            <a href="/2019/01/03/Hadoop2.X/" title="Pre: Hadoop2.X">
                <i class="fa fa-angle-left"></i>
            </a>
        

        <a title="Mini Archives"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/2019/01/02/Nginx%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A02/" title="Next: Nginx入门学习（二）">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/08/08/hello-world/">Hello World</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/22/Spark(6)/">Spark学习（六）</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/21/Spark(5)/">Spark学习（五）</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/19/Spark(4)/">Spark学习（四）</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/18/Spark(3)/">Spark学习（三）</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/17/Spark(2)/">Spark学习（二）</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/16/Spark(1)/">Spark学习（一）</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/16/List%E6%96%B9%E6%B3%95/">List方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/16/Map%E6%96%B9%E6%B3%95/">Map方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/16/Set%E6%96%B9%E6%B3%95/">Set方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/16/String%E6%96%B9%E6%B3%95/">String 方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/16/%E6%95%B0%E7%BB%84%E6%96%B9%E6%B3%95/">数组方法</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/16/%E9%9D%A2%E8%AF%95%E9%97%AE%E9%A2%98%E6%80%BB%E7%BB%93/">面试问题总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/15/Scala%E5%AD%A6%E4%B9%A0/">Scala学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/02/14/Redis%E5%AD%A6%E4%B9%A0/">Redis学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/29/Storm%E5%AD%A6%E4%B9%A0/">Storm学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/28/Kafka%E5%AD%A6%E4%B9%A0/">Kafka学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/25/Elasticsearch%E5%AD%A6%E4%B9%A0/">Elasticsearch学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/18/CDH%E6%93%8D%E4%BD%9C%E5%AD%A6%E4%B9%A0/">CDH部署操作</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/18/Flume%E5%AD%A6%E4%B9%A0/">Flume学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/17/HBase%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/">HBase性能优化</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/15/HBase%E5%AD%A6%E4%B9%A0/">HBase学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/13/Sqoop%E5%AD%A6%E4%B9%A0/">Sqoop学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/12/Hive%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84UDF%E5%87%BD%E6%95%B0%E6%80%BB%E7%BB%93/">Hive中常用的UDF函数总结</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/12/Hive%E4%BC%98%E5%8C%96/">Hive优化</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/11/Hive%E5%AD%A6%E4%B9%A0/">Hive学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/08/MapReduce%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/">MapReduce源码分析</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/07/MapReduce%E6%A1%88%E4%BE%8B%E5%88%86%E6%9E%90/">MapReduce案例实践</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/05/MapReduce%E5%AD%A6%E4%B9%A0/">MapReduce学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/04/Zookeeper%E5%AD%A6%E4%B9%A0/">Zookeeper学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/04/Yarn%E5%AD%A6%E4%B9%A0/">YARN的入门学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/03/Hadoop2.X/">Hadoop2.X</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/03/HDFS%E5%AD%A6%E4%B9%A0/">HDFS学习</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/02/Nginx%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A02/">Nginx入门学习（二）</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/01/02/Nginx%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A01/">Nginx入门学习（一）</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/30/%E5%A4%A7%E6%95%B0%E6%8D%AE%E6%80%9D%E6%83%B3/">大数据思想</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/29/%E5%B8%B8%E7%94%A8Linux%E5%91%BD%E4%BB%A4%E7%9A%84%E5%AD%A6%E4%B9%A03/">常用Linux命令的学习（三）</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/28/%E5%B8%B8%E7%94%A8Linux%E5%91%BD%E4%BB%A4%E7%9A%84%E5%AD%A6%E4%B9%A02/">常用Linux命令的学习（二）</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/27/%E5%B8%B8%E7%94%A8Linux%E5%91%BD%E4%BB%A4%E7%9A%84%E5%AD%A6%E4%B9%A01/">常用Linux命令的学习（一）</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/26/Linux%E7%B3%BB%E7%BB%9F%E6%95%B0%E6%8D%AE%E5%BA%93MySQL%E5%AE%89%E8%A3%85/">Linux系统数据库MySQL安装</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/25/Linux%E7%B3%BB%E7%BB%9FCentOS%206%E5%AE%89%E8%A3%85/">Linux学习之CentOS 6系统安装</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/12/24/%E6%89%8B%E5%8A%A8%E5%AE%89%E8%A3%85maven%E5%9D%90%E6%A0%87%E4%BE%9D%E8%B5%96/">手动安装maven坐标依赖</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/16/hexo/">Hexo搭建个人博客</a></li></ul>




    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2017-2020 Sukie
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="A fast, simple &amp; powerful blog framework">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="Another simple and elegant theme for Hexo  v3.5">Yelee</a> LoveYouLife<i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="Site Visitors"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="Page Hits"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>


    </div>
    
    
<script src="/js/GithubRepoWidget.js"></script>


<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

  <script>
    $(document).ready(function() {
      var iPad = window.navigator.userAgent.indexOf('iPad');
      if (iPad > -1) {
        let bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
        let bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
        $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
      } else if ($(".left-col").css("display") === "none") {
        $("body").css({
          "background-image": "url(/background/mobile.jpg)",
          "background-repeat": "no-repeat",
          "background-attachment": "fixed",
          "background-size": "cover"
        })
      } else {
        var backgroundnum = 5;
        var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
        $("body").css({
          "background": backgroundimg,
          "background-position": "0% 80%",
          "background-attachment": "fixed",
          "background-size": "cover"
        })
      }
    })
  </script>





    <script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script src="//cdn.bootcss.com/mathjax/2.6.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


<div class="scroll" id="scroll">
    <a href="#" title="Back to Top"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="Comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="Go to Bottom"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
             github: ".github-widget a", 
            
            
            
            
            
             archives: ".archive-article-title", 
            
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

<script src="/js/busuanzi_pure_mini.js"></script>
  </div>
<script src="/live2dw/lib/L2Dwidget.min.js?6b4caaf6c3a0542e82c2abbce9da41cc"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/assets/chitose.model.json"},"display":{"position":"right","width":250,"height":350,"hOffset":-50,"vOffset":-85},"mobile":{"show":false},"react":{"opacityDefault":0.9,"opacityOnHover":0.3}});</script></body>
</html>